#------------------------------------------------------------------------------
# CONNECTIONS AND AUTHENTICATION
#------------------------------------------------------------------------------

# 监听所有网络接口，允许远程连接
listen_addresses = '*'          # 修改：默认是 'localhost'，改为 '*' 以允许远程连接
port = 5432                     # 默认端口

# 最大连接数设置为 100，适合开发环境
max_connections = 100           # 默认是 100

#------------------------------------------------------------------------------
# RESOURCE USAGE (except WAL)
#------------------------------------------------------------------------------

# 设置共享内存缓冲区大小为 128MB，适合开发环境
shared_buffers = 128MB          # 修改：默认是 128MB，根据需要可调整

#------------------------------------------------------------------------------
# WRITE AHEAD LOG
#------------------------------------------------------------------------------

# 日志级别设置为 minimal，减少开发环境下的日志量
# 修改 wal_level 为 replica 或 logical，推荐使用 replica
wal_level = replica  # 支持流式传输和复制
max_wal_senders = 5  # 设置最大 WAL 发送者数量（可以根据需要调整）

#------------------------------------------------------------------------------
# REPORTING AND LOGGING
#------------------------------------------------------------------------------

# 启用日志记录连接信息
log_connections = on            # 修改：默认是 off，改为 on 以记录连接信息
log_disconnections = on         # 修改：默认是 off，改为 on 以记录断开连接信息
log_statement = 'all'           # 修改：默认是 none，改为 all 以记录所有 SQL 语句

#------------------------------------------------------------------------------
# CLIENT CONNECTION DEFAULTS
#------------------------------------------------------------------------------

# 设置时区为 UTC
timezone = 'UTC'                # 修改：默认是系统时区，改为 UTC 以统一时区设置

#------------------------------------------------------------------------------
# ERROR HANDLING
#------------------------------------------------------------------------------

# 设置客户端编码为 UTF8
client_encoding = 'UTF8'        # 默认是 UTF8

#------------------------------------------------------------------------------
# CUSTOMIZED OPTIONS
#------------------------------------------------------------------------------

# 设置数据目录路径（根据实际路径修改）
data_directory = '/var/lib/postgresql/data'  # 修改：根据实际数据目录路径设置

# 设置身份验证配置文件路径（根据实际路径修改）
hba_file = '/var/lib/postgresql/data/pg_hba.conf'  # 修改：根据实际路径设置

# 设置用户映射配置文件路径（根据实际路径修改）
ident_file = '/var/lib/postgresql/data/pg_ident.conf'  # 修改：根据实际路径设置
